---
title   : "区块链概论 - 1 - 区块链2.0 : 以太坊应用开发指南"
---

第一章 区块链概论
===============

> 数字经济之父唐·塔普斯科特 ( Don Tapscott ) 提出：
> 不是机器人，不是大数据，甚至不是人工智能，而是区块链将引发人类第四次工业革命，
> 并重新定义互联网甚至人类社会。

## 1.1 区块链概念及其应用

区块链从技术理论的提出，到今天的区块链 2.0，已经历二十多年的发展。

### 1.1.1 区块链发展历程

早在 1991 年，斯图尔特·哈伯 ( Stuart Haber ) 和史葛托尔内塔 ( W. Scott Stornetta ) 就在论坛中提出了关于区块的加密保护链产品。

尼克·萨博 ( Nick Szabo ) 在 1998 年进行了 “虚拟币” 散列化的机制研究，将其命名为比特金。

2000 年，斯特凡·康斯特 ( Stefan Konst ) 发表了加密保护链的统一理论，并提出了一整套实施方案。

2008 年爆发全球金融危机，当时有人使用 “中本聪” 化名发表了一篇论文，描述了 “比特币” 的产生模式。

2009 年比特币诞生，到 2140 年将达到 2100 万个总量上限，现今已经挖出了超过 1200 万个。

比特币对社会的贡献和价值主要在于其通过实践验证了其背后的支撑技术 —— 区块链。

2014 年，维塔利克·布特瑞 ( Vitalik Buterin ) 、加文伍德 ( Gavin Wood ) 和杰夫瑞·威尔克 ( Jeffrey Wilcke )
开始开发下一代区块链平台 —— 以太坊 ( Ethereum ) 。

以太坊的目标是创建具有图灵完备的、可执行可编程的智能合约代码的区块链平台。

2015 年 IBM 的 Linux 基金会推出了开放账本项目 ( Open Ledger Project ) 。

2016 年 10 月，我国工业和信息化部发布 《中国区块链技术和应用发展白皮书（2016）》。

2016 年 12 月，区块链被作为战略性前沿技术、颠覆性技术写入国务院发布的 《“十三五”国家信息化规划》。

区块链日益受到我国政府的重视，各地政府纷纷出台有关区块链的政策指导意见及通知文件。

现在，区块链已经成为与物联网、云计算、大数据、人工智能等互联网技术并驾齐驱的新贵。

### 1.1.2 区块链概念

1. 区块链的侠义解释

    区块链是一种块链式的数据结构，区块链之间按照时间顺序相连，
    通过密码学方式保证数据不易篡改和不易伪造，
    并在网络所有节点进行分布式存储的共享账本。

2. 区块链的广义解释

    区块链是利用块链式共享账本来验证并存储数据，
    利用 P2P 分布式节点共识算法来生成和更新数据，
    利用密码学的方式保证数据传输和访问的安全，
    利用由自动执行的脚本代码组成的智能合约来操作数据，
    的一种全新的分布式计算可信网络或计算公正网络。

区块链的几个核心工作特征如下：

特征 | 说明
-|-
去中心化 | 区块链基于 P2P 网络，使用分布式计算和存储，网络中的节点具有相同的权利和义务，区块链数据由具有维护功能的节点来自动共同维护。
数据不易篡改 | 区块链数据一旦经过验证并添加至区块链，就相当于永久存储，数据的稳定性极高。若想修改区块链中的数据，必须同时控制 51% 以上的网络节点（算力或权重）才行。
自治性 | 区块链基于算法与机制，由软件与机器自动实现协商一致的规范和协议，使系统中的节点能够在不依赖人为因素的环境下可信任的工作。
开放性 | 区块链的数据、机制甚至其实现源码对所有人公开，确保所有用户平等参与。
匿名性 | 区块链用户使用账户与密钥基于本地区块链客户端存取数据，用户间的交易基于加密账户而无需公开身份，并且交易地址无法跟踪，用户可匿名参与区块链的各类应用，用户隐私得以保护。

区块链通过一系列的技术措施，确保在开放的互联网络中，不依赖第三方平台，甚至不需要参与者身份的条件下，
进行可靠的信息与价值传递，降低社会关系中构建信任的成本。

区块链通过数学证明、规则公开、信息透明、中立机器等技术机制及设施向人类社会提供了另一条构建信任的思路。

综上，区块链的定义为：

> 区块链是互联网世界构建信任的技术基础设施。

### 1.1.3 区块链的应用

1. 金融领域

    金融领域是区块链较早应用的领域。

2. 保险行业

    一方面诸如医疗信息、个人征信数据引入并存储于区块链，成为每个人的数字身份，
    保证了数据真实可信、不宜篡改、实时同步、终身有效，为投保人的风险管理带来巨大价值；

    另一方面，区块链智能合约的支持可实现不依赖人为的自主投保和智能赔付，
    可以极大的提升保险机构的运行效率，降低成本。

3. 物联网与共享经济

    通过物联网将现实物质世界与区块链构建的虚拟社会有效连接，
    从而更大范围地推动社会运行效率与共享经济地发展。

4. 法律行业

    基于区块链数据地不易篡改性，可将各类认证、所有权证、证书
    （如房屋产权、土地所有权、承包权、文凭）等基于区块链登记，
    实现高效鉴别和快速流转。

5. 文化艺术行业

    针对音乐、字画等任何类型地艺术品，可基于区块链进行数字发布，
    艺术家们可以使用区块链技术来声明所有权，发行限量作品，
    以数字加密形式保护和流转。

6. 房地产行业

    基于区块链可以让整个房地产业流程实现自动化、智能化，
    解决产业链中每个参与者在地产开发、运营、使用，
    以及产权交易、租售中的各种关系。

### 1.1.4 区块链不适用场景及风险

区块链技术并非万能，由于区块链基于 P2P 网络，需要全网络所有节点保存同一份数据，执行相同的运算，
若采用工作量证明 ( POW ) 共识机制还要浪费大量算力解决数学难题，效率较低并且浪费严重。

以下几类场景不适合采用区块链：

- 需要高效计算的场合，如对计算速度要求极高的科学计算，大规模数据统计、分析和挖掘，人工智能学习与模型训练等。

- 对计算和应用部署成本敏感的应用，如一般性的信息发布、展示或宣传。

- 需要系统封闭运行并独自拥有的场合，如各类机构、企业的私有系统。


## 1.2 区块链 2.0 : 以太坊

区块链 1.0 主要是虚拟币的相关应用，区块链 2.0 是将以太币与智能合约相结合，实现除金融领域以外更广泛场景或流程的应用。

区块链 2.0 的典型代表有以太坊、超级账本等。

以太坊由于对智能合约近乎完美的支持，而被称为 “全球计算机”。

### 1.2.1 区块链 2.0 特征

区块链 2.0 实现了智能合约的功能，从而使区块链系统具有图灵完备的计算能力，
可以在区块链上传和执行应用程序，并且可保证程序的有效执行。

区块链 2.0 有以下优势：

- 支持智能合约
- 交易速度更快
- 支持信息加密
- 低耗能

### 1.2.2 以太坊的关键支撑技术

以太坊是区块链 2.0 的代表，由 1994 年出生的程序员维塔利克·布特瑞带头创建，
该平台可以通过编程来执行任意复杂度的计算，因此可以支持诸如去中心化应用的场景，
很多分布式应用均可基于该平台来开发和部署。

以太坊所采用的关键算法及技术如下：

技术 | 说明
-|-
非对称加解密 | 非对称加解密算法包括两个密钥：公开密钥和私有密钥。公钥与私钥是一对，如果用公钥对数据进行加密，只有对应私钥才能解密；如果用私钥对数据加密，那么只有对应公钥才能解密。加密和解密使用的是两个不同的密钥，这种算法称为非对称加解密算法。
散列算法 | 散列算法是一种单向密码体制，是一个从明文到密文的不可逆映射，只有加密过程，没有解密过程。散列算法将任意长度的二进制值映射为较短的固定长度的二进制值，这个短的二进制值称为散列值。要找到散列为同一个值的两个不同输入，在计算上是不可能的，所以数据的散列值可以检验数据的完整性。常见的散列算法有 SHA1, SHA256, SHA512 等，以太坊使用 SHA256 算法。
P2P 网络 | P2P ( Peer-to-peer 对等计算网络 ) 是一种在对等者 ( peer ) 之间分配任务和工作负载的分布式应用框架。 P2P 网络的参与者通过网络共享他们拥有的一部分硬件资源（处理能力、存储能力、网络连接能力、打印机等），其他对等节点可以无需通过中间实体直接访问。在此网络中的参与者既是资源、服务和内容的提供者 ( Server ) 又是资源、服务和内容的使用者 ( Client ) 。
共识机制 | 共识机制是区块链事务达成分布式共识的数学算法。由于点对点网络下存在较高的网络延迟，各个节点所观察到的事务先后顺序不可能完全一致。因此，区块链系统需要设计一种机制对在差不多时间内发生的事务的先后顺序进行共识。区块链常用的共识机制主要有工作量证明 ( POW ) 和权益证明 ( POS ) 两种。
以太坊虚拟机 | EVM ( Ethereum Vitual Machine 以太坊虚拟机 ) 是由以太坊客户端软件提供的具有完整系统功能，可以灵活支持各类去中心化应用的代码执行环境。 EVM 可以执行任意复杂度的算法代码，因此在计算机科学术语中，以太坊是图灵完备的。开发人员可以使用喜欢的高级编程语言（如 JavaScript, Python 等）创建运行在 EVM 上的应用程序。
智能合约语言 | Solidity 是以太坊中用于编写智能合约的面向对象程序设计语言。 Solidity 可用于各类区块链平台智能合约的实现编程，支持图灵完备的程序代码设计。

### 1.2.3 以太坊：区块链 2.0 工业开发标准

目前区块链 2.0 的技术架构主要有以太坊和 Linux 基金会于 2015 年发起的超级账本 ( Hyperledger ) 。

从体系结构来看，以太坊共包括六层结构：

layer | name | content
--|-------|--------------------
6 | 应用层 | 钱包、各种去中心化应用
5 | 合约层 | 以太坊虚拟机、智能合约
4 | 激励层 | 挖矿、燃料
3 | 共识层 | POW/POS
2 | 网络层 | P2P 网络
1 | 数据层 | 区块、区块链

1. 数据层

    以太坊数据层是一个 “区块 + 链” 的数据结构，本质是一个分布式区块链，
    以非对称加解密、散列计算等技术为基础，确保区块链数据账本形成网络，数据不易篡改。

2. 网络层

    以太坊网络层遵循 P2P 协议，确保网络的开放和稳定服务，互联网用户可以自由、平等的参与。

3. 共识层

    共识层决定区块链的记账权获取机制。

    - 采用 POW : 电脑的性能越好，封装区块越容易成功并获得虚拟币奖励；
    - 采用 POS : 类似股份公司股权的概念，会根据持有的虚拟币数量和时间，由股权拥有者按其权益比例获得区块封装权利，并根据封装区块获得挖矿奖励。

4. 激励层

    激励层也就是以太坊的挖矿机制，是对为网络提供计算及验证服务的矿工的奖励措施。

5. 合约层

    在区块链 1.0 中几乎没有合约层，只能进行加密数字货币的相关应用。
    而合约层的加入，使得区块链在加密数字货币以外的其他领域使用成为可能。
    以太坊中，合约层包括 EVM 和 智能合约。

6. 应用层

    应用层即区块链的展示与业务层。以太坊通过使用 Web3 等应用接口，使各类应用与区块链集成。
    区块链的应用层可以是移动端、Web 端，甚至直接将其融合进现有的业务服务器。

以太坊通过以上六层技术架构的明确分工协作，有效地保证了区块链技术体系的系统性、完整性、灵活性与开放性，
为区块链技术不断发展、演变和广泛应用奠定了坚实基础。

## 1.3 区块链创造的历史机遇

区块链既是一个技术体系，又是一种思维模式，为新型软件的框架定义与颠覆性的创新创造了机遇。

### 1.3.1 程序员的区块链思维

- 去中心化
- 开放透明
- 协同合作
- 相信算法

### 1.3.2 用区块链模式定义社会

在信息化时代，现实世界的许多事物都可以用程序来描述并进行优化。
区块链是描述人类社会关系的一种工具，从人类社会的基本单元 “人” 的描述开始，
描述其经济关系、社会关系，进而描述经济组织、社会组织及整个社会。
一旦明白了这些关系的描述模型，掌握了在互联网虚拟社会如何映射的方法，
技术人员就知道了如何进一步优化和提升它。

<table>
    <col width="10%" />
    <col width="45%" />
    <col width="45%" />
    <tr>
        <th>描述对象<th>对象属性<th>区块链描述
    </tr>
    <tr>
        <th>人
        <td>人的属性主要包括如下三个维度：
            <ol>
                <li>需求属性：生理需求、安全需求、精神需求与价值需求；
                <li>经济属性：以货币为单元的所有关系、各类别的财产所有关系；
                <li>社会属性：家庭关系、工作关系、社群关系。
        <td>
            <ul>
                <li>区块链账户实现对人的身份定位和描述；
                <li>以账户与智能合约的关系实现人的社会关系描述；
                <li>基于人的账户、经济关系、社会关系的各类应用系统描述人的需求属性及实现。
    </tr>
    <tr>
        <th>物
        <td>物质实体的构成要件包括以下三点：
            <ol>
                <li>归属属性：被谁所拥有；
                <li>功能属性：用途；
                <li>执行属性：在智能化条件下受控于所有者的命令。
        <td>
            <ul>
                <li>区块链中通过物联网实现与物质实体的绑定，通过对物质实体所有权与账户绑定实现归属权的映射；
                <li>通过智能合约定义物质实体的功能属性；
                <li>通过所有者向物质实体智能合约发送命令交易，实现物质实体的功能控制映射。
    </tr>
    <tr>
        <th>经济
        <td>经济活动关系主要构成要件有以下三点：
            <ol>
                <li>流通货币
                <li>物质、非物质财产的权属（所有权、经营权、使用权）
                <li>交易市场
        <td>以各类中心化或去中心化组织实现对现实组织的映射
    </tr>
    <tr>
        <th>组织
        <td>组织活动关系主要构成要件如下：
            <ol>
                <li>组织的决策：由组织的所有权结构决定；
                <li>行政：由组织决策程序产生的行政权力；
                <li>流程：由行政权力控制下的组织业务流程程序。
        <td>通过智能合约描述实现现实经济组织、社会组织的决策流程、行政流程与业务流程在区块链的映射。
    </tr>
    <tr>
        <th>社会
        <td>社会构成要件有如下三点：
            <ol>
                <li>自然人：各类拥有经济关系和社会关系的自然人构成社会的基本单元；
                <li>法人组织：各类私有、公立、行业法人主体构成社会组织单元；
                <li>物理空间：现实世界的物理空间、物质流通场景。
        <td>以分布式 P2P 网络为基础，实现各类现实物质实体、自然人、经济组织、社会组织基于区块链物联网、账户、智能合约在区块链上的映射，以及各类活动关系的频繁交易、互动，构成基于互联网络的、可信的区块链虚拟社会活动关系和生态系统
    </tr>
</table>


### 1.3.3 挑战传统中心化系统

互联网崇尚开放，反对封闭和权威。互联网垄断实质上是对互联网原旨精神的高度违背。

互联网形成垄断主要有以下两个原因：

- 互联网提供了信息自由传输的平台，但同时也是一个信息泛滥和可信度极差的空间，对于高度敏感的价值传递及商业交易，
人们信任的还是建立在传统第三方平台的品牌、权威、信誉的基础之上；
- 互联网服务零边际成本扩张的虹吸效应，造成好的越好、差的越差，从而加速行业垄断的形成。

若人们拥有了能够不依赖第三方平台的信任基础设施，互联网的垄断格局是否可能重构？

区块链的出现，让人们看到这不仅在理论上可行，在实践上也具有了现实的可操作性。
