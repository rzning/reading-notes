---
title   : 反模式 - 6 - JavaScript 设计模式
---

第 6 章 反模式
=============

反模式的两个概念：

- 描述一种针对某个特定问题的不良解决方案，该方案会导致糟糕的情况发生；
- 描述如何摆脱前述的糟糕情况以及如何创造好的解决方案。

若一种模式代表一种最佳实践，那么一种反模式就代表我们已经学到的教训。

若一个完美的设计应用于错误的上下文中，那么它就可能是一种反模式。

最终方案的质量好坏取决于技能水平和团队投入的时间。

一个应用程序在进入生产环境并即将进入维护模式时会面临更大的挑战。
对于一个不熟悉系统的新手来使用此应用，可能会将不良设计意外地引入到项目中。
若能将不良实践创建为反模式，则可以让开发人员提前认识到问题所在，并能及时避免常见错误的发生。

反模式可以说是一种值得记录的不良设计。

JavaScript 中的一些反模式如下列所示：

- 定义大量全局变量污染全局命名空间
- 向 `setTimeout()` 传递字符串，这会触发 `eval()` 的内部调用
- 修改 `Object` 类的原型
- 以内联形式使用 JavaScript ，它是不可改变的
- 在使用 `document.createElement()` 等原生 DOM 方法更合适的情况下，使用 `document.write()`
    - 若在页面加载完成后执行 `document.write()` 则会导致重写当前页面。

一旦能够辨别出这些反模式，我们就能够重构代码来防止它们的出现，
这样我们的解决方案的总体质量能够立即得到改善。
